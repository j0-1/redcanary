# RedCanary Homework

Here is my submission for the "Engineering Interview Homework Assignment" at Red 
Canary which entails triggering several types of activity to test out their 
Endpoint Detection and Response (EDR) agents.

I have tested that it is fully functional on macOS (Monterey 12.7.1) and linux 
(Debian 12) it will require some modification to work on windows (but is possible
with ruby).

The basic design is to take an input description of the activities to trigger in
json format and logs of the activities are output to stdout for easy capture to 
a file.  Each type of activity, i.e. process, file, and network are implemented
in an object with methods to support the five requested activities.  It can be 
easily extended to more activities and types of activities by adding other classes
and hooking them into the main TriggerActivity class.

I have added several examples of input files to the 'examples' directory and a 
couple servers to help with testing to the 'servers' directory which are used to
catch TCP and UDP traffic generated by the example inputs.

## Setup
The main application can be run using ruby 3.2.2 (as denoted in the .ruby-version
for ease of use with a ruby version manager like rbenv, etc.) and has no external
gems except for unit testing -- i.e. I used rspec for that.

## Unit Tests

To run the unit tests begin with running bundler (`bundle`) in the directory to pull 
in rspec and then make sure `rspec` can be called (e.g. if using rbenv, run 
`rbenv rehash` to create the shim for the rspec executable).  After that, tests can 
be easily run with `rspec`.  That is:

```
cd <cloned project dir>
bundle
rspec
```

Rspec is the only external dependency used for this program and only to enable the
unit testing framework and tooling.

## Example Usage

Once the repository is cloned and ensuring that at least ruby 3.2.2 is the current
version available in the directory, the following can be used to start up the TCP
server in one terminal and then run a set of tests in another:

First terminal
```
ruby servers/test_receive_tcp.rb
```

Second terminal
```
ruby main.rb examples/testall.json
```

For more details check out the comment block in `main.rb`
